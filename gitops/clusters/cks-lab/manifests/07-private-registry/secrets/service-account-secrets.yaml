# Attach pull secrets to Service Account (RECOMMENDED)
apiVersion: v1
kind: ServiceAccount
metadata:
  name: app-service-account
  namespace: private-registry-lab
  annotations:
    cks.exercise: "07-private-registry"
    cks.pattern: "service-account-secrets"
imagePullSecrets:
- name: dockerhub-regcred
- name: ghcr-regcred
---
# Automatically inject pull secrets into ServiceAccounts
apiVersion: v1
kind: Secret
metadata:
  name: default-image-pull-secret
  namespace: private-registry-lab
  annotations:
    # This annotation automatically adds the secret to all ServiceAccounts
    kubernetes.io/service-account.name: default
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: <base64-encoded-docker-config>