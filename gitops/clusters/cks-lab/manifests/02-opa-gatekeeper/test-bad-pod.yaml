apiVersion: v1
kind: Pod
metadata:
  name: test-bad-pod
  namespace: cks-gatekeeper-lab
  annotations:
    cks.exercise: "02-opa-gatekeeper"
    cks.task: "Test Gatekeeper policy enforcement"
    cks.expected: "This pod should be REJECTED"
spec:
  containers:
  - name: privileged-container
    image: busybox:latest
    command: ["sleep", "3600"]
    securityContext:
      privileged: true  # This violates the policy
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: test-instructions
  namespace: cks-gatekeeper-lab
data:
  test-case: "bad-pod"
  expected-result: "rejection"
  command: "kubectl apply -f test-bad-pod.yaml"